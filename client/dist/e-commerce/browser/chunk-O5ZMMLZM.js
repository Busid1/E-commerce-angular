import{g as L}from"./chunk-OARXV6VM.js";import{b as G}from"./chunk-UYEU4YRK.js";import{k as T}from"./chunk-34B33TYW.js";import{Aa as a,Cb as D,Na as c,Qa as R,R as F,Ra as V,Sa as e,Ta as n,Ua as s,V as w,Va as B,Ya as p,Za as S,cb as o,da as C,db as u,ea as v,fa as l,ga as P,gb as E,hb as z,ib as M,jb as f,kb as x,pa as b,qa as _,xa as I}from"./chunk-VABZW2L3.js";import{a as y,b as h,f as k}from"./chunk-TRNF7YA4.js";var N=d=>[d],j=class d{productCartItem=_.required();onRemove=b();onIncrease=b();onDecrease=b();static \u0275fac=function(r){return new(r||d)};static \u0275cmp=w({type:d,selectors:[["app-cart-item"]],inputs:{productCartItem:[1,"productCartItem"]},outputs:{onRemove:"onRemove",onIncrease:"onIncrease",onDecrease:"onDecrease"},standalone:!0,features:[E],decls:27,vars:13,consts:[[1,"rounded-lg","border","break-inside-avoid","border-gray-200","bg-white","p-4","shadow-sm","dark:border-gray-700","dark:bg-gray-800","md:p-6"],[1,"space-y-4","md:flex","md:items-center","md:justify-between","md:gap-6","md:space-y-0"],[1,"shrink-0","md:order-1",3,"href"],[1,"hidden","h-20","w-20","dark:block","rounded-md",3,"src","alt"],["for","counter-input",1,"sr-only"],[1,"flex","items-center","justify-between","md:order-3","md:justify-end"],[1,"flex","items-center"],["type","button","id","decrement-button","data-input-counter-decrement","counter-input",1,"inline-flex","h-5","w-5","shrink-0","items-center","justify-center","rounded-md","border","border-gray-300","bg-gray-100","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-100","dark:border-gray-600","dark:bg-gray-700","dark:hover:bg-gray-600","dark:focus:ring-gray-700",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 18 2",1,"h-2.5","w-2.5","text-gray-900","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h16"],["type","text","id","counter-input","data-input-counter","","placeholder","","required","",1,"w-10","shrink-0","border-0","bg-transparent","text-center","text-sm","font-medium","text-gray-900","focus:outline-none","focus:ring-0","dark:text-white",3,"value"],["type","button","id","increment-button","data-input-counter-increment","counter-input",1,"inline-flex","h-5","w-5","shrink-0","items-center","justify-center","rounded-md","border","border-gray-300","bg-gray-100","hover:bg-gray-200","focus:outline-none","focus:ring-2","focus:ring-gray-100","dark:border-gray-600","dark:bg-gray-700","dark:hover:bg-gray-600","dark:focus:ring-gray-700",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 18 18",1,"h-2.5","w-2.5","text-gray-900","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 1v16M1 9h16"],[1,"text-end","md:order-4","md:w-32"],[1,"text-base","font-bold","text-gray-900","dark:text-white"],[1,"w-full","min-w-0","flex-1","space-y-4","md:order-2","md:max-w-md"],[1,"text-base","font-medium","text-gray-900","hover:underline","dark:text-white",3,"href"],[1,"flex","items-center","gap-4"],["type","button",1,"inline-flex","items-center","text-sm","font-medium","text-red-600","hover:underline","dark:text-red-500",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"me-1.5","h-5","w-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18 17.94 6M18 18 6.06 6"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"a",2),s(3,"img",3),n(),e(4,"label",4),o(5,"Choose quantity:"),n(),e(6,"div",5)(7,"div",6)(8,"button",7),p("click",function(){return i.onDecrease.emit(i.productCartItem())}),l(),e(9,"svg",8),s(10,"path",9),n()(),P(),s(11,"input",10),e(12,"button",11),p("click",function(){return i.onIncrease.emit(i.productCartItem())}),l(),e(13,"svg",12),s(14,"path",13),n()()(),P(),e(15,"div",14)(16,"p",15),o(17),f(18,"currency"),n()()(),e(19,"div",16)(20,"a",17),o(21),n(),e(22,"div",18)(23,"button",19),p("click",function(){return i.onRemove.emit(i.productCartItem().product._id)}),l(),e(24,"svg",20),s(25,"path",21),n(),o(26," Remove "),n()()()()()),r&2&&(a(2),c("href",M(9,N,"/products/"+i.productCartItem().product._id),I),a(),c("src",i.productCartItem().product.image,I)("alt",i.productCartItem().product.title),a(8),c("value",i.productCartItem().quantity),a(6),u(x(18,7,i.productCartItem().product.price)),a(3),c("href",M(11,N,"/products/"+i.productCartItem().product._id),I),a(),u(i.productCartItem().product.title))},dependencies:[T]})};var H=(d,t)=>t==null||t.product==null?null:t.product._id,U=()=>["/cart/checkout"];function O(d,t){if(d&1){let r=B();e(0,"app-cart-item",23),p("onRemove",function(m){C(r);let g=S();return v(g.onRemove(m.toString()))})("onIncrease",function(m){C(r);let g=S();return v(g.onIncrease(m))})("onDecrease",function(m){C(r);let g=S();return v(g.onDecrease(m))}),n()}if(d&2){let r=t.$implicit;c("productCartItem",r)}}var q=class d{state=F(G).state;product=_.required();onRemove(t){return k(this,null,function*(){this.state.remove(t);let r=localStorage.getItem("authToken");yield D.delete(`http://localhost:2000/cart/${t}`,{data:{productId:t},headers:{Authorization:`Bearer ${r}`}})})}onIncrease(t){return k(this,null,function*(){this.state.update(h(y({},t),{quantity:t.quantity+1}));let r=localStorage.getItem("authToken");yield D.post("http://localhost:2000/user/cart",{productId:t.product._id},{headers:{Authorization:`Bearer ${r}`}})})}onDecrease(t){return k(this,null,function*(){this.state.update(h(y({},t),{quantity:t.quantity-1})),t.quantity<=0&&this.state.update(h(y({},t),{quantity:0}));let r=localStorage.getItem("authToken");yield D.post("http://localhost:2000/user/cart/decrease",{productId:t.product._id},{headers:{Authorization:`Bearer ${r}`}})})}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=w({type:d,selectors:[["app-cart"]],inputs:{product:[1,"product"]},standalone:!0,features:[E],decls:36,vars:8,consts:[[1,"bg-slate-950","mt-10","py-8","px-10","antialiased","md:py-16","min-h-screen","max-w-screen-xl","mx-auto"],[1,"mx-auto","max-w-screen-xl","px-4","2xl:px-0"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","sm:text-2xl"],[1,"mt-6","sm:mt-8","md:gap-6","lg:flex","lg:items-start","xl:gap-8"],[1,"mx-auto","w-full","flex-none","lg:max-w-2xl","xl:max-w-4xl"],[1,"space-y-6"],[1,"block",3,"productCartItem"],[1,"mx-auto","mt-6","max-w-4xl","flex-1","space-y-6","lg:mt-0","lg:w-full"],[1,"space-y-4","rounded-lg","border","border-gray-200","bg-white","p-4","shadow-sm","dark:border-gray-700","dark:bg-gray-800","sm:p-6"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"space-y-4"],[1,"space-y-2"],[1,"flex","items-center","justify-between","gap-4"],[1,"text-base","font-normal","text-gray-500","dark:text-gray-400"],[1,"text-base","font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","justify-between","gap-4","border-t","border-gray-200","pt-2","dark:border-gray-700"],[1,"text-base","font-bold","text-gray-900","dark:text-white"],[1,"flex","w-full","items-center","justify-center","rounded-lg","bg-primary-700","px-5","py-2.5","text-sm","font-medium","text-white","hover:bg-primary-800","focus:outline-none","focus:ring-4","focus:ring-primary-300","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800",3,"routerLink"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-sm","font-normal","text-gray-500","dark:text-gray-400"],["href","#","title","",1,"inline-flex","items-center","gap-2","text-sm","font-medium","text-primary-700","underline","hover:no-underline","dark:text-primary-500"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 12H5m14 0-4 4m4-4-4-4"],[1,"block",3,"onRemove","onIncrease","onDecrease","productCartItem"]],template:function(r,i){r&1&&(e(0,"section",0)(1,"div",1)(2,"h2",2),o(3,"Shopping Cart"),n(),e(4,"div",3)(5,"div",4)(6,"div",5),R(7,O,1,1,"app-cart-item",6,H),n()(),e(9,"div",7)(10,"div",8)(11,"p",9),o(12,"Order summary"),n(),e(13,"div",10)(14,"div",11)(15,"dl",12)(16,"dt",13),o(17,"Original price"),n(),e(18,"dd",14),o(19),f(20,"currency"),n()()(),e(21,"dl",15)(22,"dt",16),o(23,"Total"),n(),e(24,"dd",16),o(25),f(26,"currency"),n()()(),e(27,"a",17),o(28,"Proceed to Checkout"),n(),e(29,"div",18)(30,"span",19),o(31," or "),n(),e(32,"a",20),o(33," Continue Shopping "),l(),e(34,"svg",21),s(35,"path",22),n()()()()()()()()),r&2&&(a(7),V(i.state.products()),a(12),u(x(20,3,i.state.price())),a(6),u(x(26,5,i.state.price())),a(2),c("routerLink",z(7,U)))},dependencies:[j,T,L]})};export{q as default};
