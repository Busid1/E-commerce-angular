import{a as I}from"./chunk-ZNGSNRVP.js";import{a as L}from"./chunk-JZHVJPYA.js";import"./chunk-OQBDW2N4.js";import"./chunk-7STW6JNG.js";import"./chunk-JY3RTWWM.js";import{d as T,k as b}from"./chunk-OARXV6VM.js";import{b as A}from"./chunk-UYEU4YRK.js";import"./chunk-34B33TYW.js";import{Aa as c,Ba as m,Ka as f,Na as C,Oa as h,Pa as _,Qa as x,R as n,Ra as S,Sa as i,Ta as a,V as p,Va as g,Ya as y,Za as s,cb as v,da as u,ea as l,eb as w,gb as P}from"./chunk-VABZW2L3.js";import"./chunk-TRNF7YA4.js";function R(r,e){if(r&1){let t=g();i(0,"app-product-card",4),y("addToCart",function(F){u(t);let Q=s(2);return l(Q.addToCart(F))}),a()}if(r&2){let t=e.$implicit;C("product",t)}}function k(r,e){if(r&1&&(i(0,"ul",0)(1,"h2",1),v(2),a(),i(3,"div",2),x(4,R,1,1,"app-product-card",3,_),a()()),r&2){let t=s();c(2),w('Products found with title "',t.searchQuery,'"'),c(2),S(t.productsList)}}var d=class r{constructor(e){this.route=e}productsState=n(L);productsList=[];searchQuery="";cartState=n(A).state;ngOnInit(){this.route.queryParams.subscribe(e=>{this.searchQuery=e.product||"",this.filterProducts(this.searchQuery)})}filterProducts(e){let t=this.productsState.state.products();e?this.productsList=t.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())):this.productsList=t}addToCart(e){this.cartState.add({product:e,quantity:1})}static \u0275fac=function(t){return new(t||r)(m(T))};static \u0275cmp=p({type:r,selectors:[["app-search"]],standalone:!0,features:[P],decls:1,vars:1,consts:[[1,"flex","flex-col","gap-4","px-20","mt-20","mx-auto","w-full","min-h-screen","max-w-screen-xl","rounded-3xl"],[1,"text-3xl","font-semibold"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4","auto-rows-auto"],[1,"block",3,"product"],[1,"block",3,"addToCart","product"]],template:function(t,o){t&1&&f(0,k,6,1,"ul",0),t&2&&h(o.productsList.length>0?0:-1)},dependencies:[b,I]})};export{d as default};
