import{a as I}from"./chunk-F47D7ONA.js";import{a as L}from"./chunk-K2A7RHMM.js";import"./chunk-NXUSJTZ2.js";import"./chunk-4L3SM3ZH.js";import{b as P,i as b}from"./chunk-JGPHLDAD.js";import"./chunk-2A3FELLY.js";import{b as A}from"./chunk-2AE4OG7X.js";import"./chunk-F4DWTUG2.js";import{Aa as c,Ba as m,Ka as f,Na as h,Oa as C,Pa as _,Qa as x,Ra as S,S as n,Sa as i,Ta as a,Va as g,W as p,Wa as v,Xa as s,ab as y,cb as w,da as u,ea as l,eb as T}from"./chunk-JRYPQ5OL.js";import"./chunk-FDERIQAA.js";function R(r,e){if(r&1){let t=g();i(0,"app-product-card",4),v("addToCart",function(F){u(t);let Q=s(2);return l(Q.addToCart(F))}),a()}if(r&2){let t=e.$implicit;h("product",t)}}function k(r,e){if(r&1&&(i(0,"ul",0)(1,"h2",1),y(2),a(),i(3,"div",2),x(4,R,1,1,"app-product-card",3,_),a()()),r&2){let t=s();c(2),w('Products found with title "',t.searchQuery,'"'),c(2),S(t.productsList)}}var d=class r{constructor(e){this.route=e}productsState=n(L);productsList=[];searchQuery="";cartState=n(A).state;ngOnInit(){this.route.queryParams.subscribe(e=>{this.searchQuery=e.product||"",this.filterProducts(this.searchQuery)})}filterProducts(e){let t=this.productsState.state.products();e?this.productsList=t.filter(o=>o.title.toLowerCase().includes(e.toLowerCase())):this.productsList=t}addToCart(e){this.cartState.add({product:e,quantity:1})}static \u0275fac=function(t){return new(t||r)(m(P))};static \u0275cmp=p({type:r,selectors:[["app-search"]],standalone:!0,features:[T],decls:1,vars:1,consts:[[1,"flex","flex-col","gap-4","px-20","mt-20","mx-auto","w-full","min-h-screen","max-w-screen-xl","rounded-3xl"],[1,"text-3xl","font-semibold"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4","auto-rows-auto"],[1,"block",3,"product"],[1,"block",3,"addToCart","product"]],template:function(t,o){t&1&&f(0,k,6,1,"ul",0),t&2&&C(o.productsList.length>0?0:-1)},dependencies:[b,I]})};export{d as default};
