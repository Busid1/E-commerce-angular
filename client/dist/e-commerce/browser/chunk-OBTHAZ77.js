import{a as k}from"./chunk-2A3FELLY.js";import{a as h}from"./chunk-R2CKWY32.js";import{Ba as f,Sa as e,Ta as t,Ua as y,W as g,Wa as l,ab as a,eb as b,o as s}from"./chunk-EW7DCEDO.js";import{d as x,e as m}from"./chunk-FDERIQAA.js";var u=x(k());var p=class c{constructor(o){this.productsService=o}formData={title:"",price:0,category:"",image:null,description:""};handleOnChange(o,r){let i=r.target.value;o==="price"&&i.length>4&&(i=i.slice(0,3),r.target.value=i),this.formData[o]=i}handleFileChange(o){let r=o.target.files?.[0];r&&(this.formData.image=r)}submitForm(o){return m(this,null,function*(){o.preventDefault();let r=new FormData;r.append("title",this.formData.title),r.append("price",this.formData.price.toString()),r.append("description",this.formData.description),r.append("category",this.formData.category),this.formData.image&&r.append("image",this.formData.image),u.default.fire({title:"Are you sure you want to create this product?",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No",icon:"question"}).then(i=>m(this,null,function*(){if(i.isConfirmed)try{yield s(this.productsService.createProduct(r)),u.default.fire("Product created","","success")}catch(d){console.error("Error creating the product:",d)}}))})}static \u0275fac=function(r){return new(r||c)(f(h))};static \u0275cmp=g({type:c,selectors:[["app-create-product"]],standalone:!0,features:[b],decls:42,vars:0,consts:[[1,"flex","justify-center","items-center","w-full","h-screen"],[1,"relative","p-4","w-full","max-w-2xl","h-auto","max-sm:mt-10"],[1,"flex","justify-between","items-center","pb-4","mb-4","rounded-t","sm:mb-5","dark:border-gray-600"],[1,"relative","p-6","rounded-lg","shadow","bg-slate-900"],[1,"flex","justify-between","items-center","pb-4","mb-4","rounded-t","border-b","sm:mb-5","dark:border-gray-600"],[1,"text-2xl","font-semibold","text-gray-900","dark:text-white"],["action","#",3,"submit"],[1,"grid","gap-5","mb-4","sm:grid-cols-2"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","name","name","id","name","placeholder","Type product name","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["for","price",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","name","price","id","price","pattern","[0-9]*","placeholder","$2999","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["for","category",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","category",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["selected",""],["value","TV"],["value","PC"],["value","GA"],["value","PH"],["for","file_input",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","file_input","name","image","type","file",1,"block","w-full","text-sm","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400",3,"change"],[1,"sm:col-span-2"],["for","description",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","description","rows","4","placeholder","Write product description here","required","",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["type","submit",1,"text-white","ml-auto","gap-2","flex","items-center","bg-blue-700","hover:bg-primary-800","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800"],[1,"fas","fa-plus"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),a(6," Upload new product "),t()(),e(7,"form",6),l("submit",function(n){return i.submitForm(n)}),e(8,"div",7)(9,"div")(10,"label",8),a(11,"Title"),t(),e(12,"input",9),l("input",function(n){return i.handleOnChange("title",n)}),t()(),e(13,"div")(14,"label",10),a(15,"Price"),t(),e(16,"input",11),l("input",function(n){return i.handleOnChange("price",n)}),t()(),e(17,"div")(18,"label",12),a(19,"Category"),t(),e(20,"select",13),l("input",function(n){return i.handleOnChange("category",n)}),e(21,"option",14),a(22,"Select category"),t(),e(23,"option",15),a(24,"TV/Monitors"),t(),e(25,"option",16),a(26,"PC"),t(),e(27,"option",17),a(28,"Gaming/Console"),t(),e(29,"option",18),a(30,"Phones"),t()()(),e(31,"div")(32,"label",19),a(33,"Image"),t(),e(34,"input",20),l("change",function(n){return i.handleFileChange(n)}),t()(),e(35,"div",21)(36,"label",22),a(37,"Description"),t(),e(38,"textarea",23),l("input",function(n){return i.handleOnChange("description",n)}),t()()(),e(39,"button",24),y(40,"i",25),a(41," Upload new product "),t()()()()()())},encapsulation:2})};export{p as default};
