import{a as oe}from"./chunk-K2A7RHMM.js";import{a as H}from"./chunk-4L3SM3ZH.js";import{a as X,c as Y,d as x,e as E,f as ee,g as te,h as ne,i as ie}from"./chunk-JGPHLDAD.js";import{b as re}from"./chunk-2AE4OG7X.js";import"./chunk-F4DWTUG2.js";import{Aa as a,Ba as z,Hb as Q,Ka as u,M as P,Mb as W,Na as d,Oa as c,Pa as O,Qa as G,R as I,Ra as U,S as f,Sa as n,Ta as i,Ua as l,Va as Z,W as m,Wa as S,Xa as h,ab as o,bb as w,da as B,ea as V,eb as s,fa as v,fb as A,ga as C,gb as q,hb as $,ib as J,pb as K,xa as N}from"./chunk-JRYPQ5OL.js";import"./chunk-FDERIQAA.js";var T=class e{constructor(r,t){this.authService=r;this.router=t}canActivate(){return this.authService.isLoggedIn()?(this.router.navigate(["/"]),!1):!0}static \u0275fac=function(t){return new(t||e)(I(H),I(x))};static \u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})};var le=[{path:"search",loadComponent:()=>import("./chunk-OLAV3T2Z.js").then(e=>e.default)}];var pe=[{path:"",loadChildren:()=>import("./chunk-YZUJR5TA.js")},{path:"cart",loadChildren:()=>import("./chunk-7SZJDPTF.js")},{path:"auth",loadChildren:()=>import("./chunk-ZKH3M2JQ.js"),canActivate:[T]},{path:"create-product",loadChildren:()=>import("./chunk-N7MY6UJT.js")},{path:"purchases",loadChildren:()=>import("./chunk-WCKSMC4V.js")},...le,{path:"**",redirectTo:""}];var me={providers:[K({eventCoalescing:!0}),te(pe,ne()),W()]};var j=()=>({exact:!0});function se(e,r){e&1&&(n(0,"a",13),o(1,"My purchases"),i())}function ce(e,r){if(e&1){let t=Z();n(0,"button",12),S("click",function(){B(t);let g=h();return V(g.isAuthenticated.logout())}),o(1,"Logout"),i(),u(2,se,2,0,"a",13)}if(e&2){let t=h();a(2),c(t.isAuthenticated.getUserRole()?-1:2)}}function ue(e,r){e&1&&(n(0,"li")(1,"a",14),o(2,"Login"),i()(),n(3,"li")(4,"a",15),o(5,"Create account"),i()()),e&2&&(a(),d("routerLinkActiveOptions",A(2,j)),a(3),d("routerLinkActiveOptions",A(3,j)))}function de(e,r){e&1&&(n(0,"li")(1,"a",16),o(2,"Products"),i()(),n(3,"li")(4,"a",17),o(5,"Upload products"),i()()),e&2&&(a(),d("routerLinkActiveOptions",A(1,j)))}function fe(e,r){if(e&1&&(n(0,"li",11)(1,"a",18),v(),n(2,"svg",19),l(3,"path",20),i(),C(),n(4,"span",21),o(5),i()()()),e&2){let t=h();a(5),w(t.state.count())}}var F=class e{state=f(re).state;isAuthenticated=f(H);static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-header"]],standalone:!0,features:[s],decls:17,vars:2,consts:[[1,"z-20","w-full","bg-transparent","absolute"],[1,"max-w-screen-md","flex","flex-wrap","items-center","justify-between","mx-auto","p-4"],["routerLink","/",1,"flex","items-center","gap-2"],["src","https://cdn-icons-png.flaticon.com/512/3225/3225196.png","alt","E-Shop Logo",1,"h-8"],[1,"self-center","text-2xl","font-semibold","whitespace-nowrap","dark:text-white"],["data-collapse-toggle","navbar-default","type","button","aria-controls","navbar-default","aria-expanded","false",1,"inline-flex","items-center","p-2","w-10","h-10","justify-center","text-sm","text-gray-500","rounded-lg","md:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600"],[1,"sr-only"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-5","h-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-default",1,"hidden","w-full","md:block","md:w-auto","max-md:py-2","max-md:bg-slate-900","rounded-xl"],[1,"font-medium","flex","justify-evenly","max-md:gap-2","mx-auto","p-2","rounded-lg","md:space-x-8","rtl:space-x-reverse","md:mt-0","md:border-0"],[1,"relative","flex","items-center"],["type","button",1,"bg-blue-600","px-3","py-2","text-md","rounded-xl",3,"click"],["routerLink","/purchases","type","button",1,"p-2","rounded"],["routerLink","/auth/login","routerLinkActive","!text-blue-500","aria-current","page",1,"block","py-2","px-3","text-white","bg-blue-700","rounded","md:bg-transparent","md:text-blue-700","md:p-0","dark:text-white",3,"routerLinkActiveOptions"],["routerLink","/auth/register","routerLinkActive","!text-blue-500","aria-current","page",1,"block","py-2","px-3","text-white","bg-blue-700","rounded","md:bg-transparent","md:text-blue-700","md:p-0","dark:text-white",3,"routerLinkActiveOptions"],["routerLink","/","routerLinkActive","!text-blue-500","aria-current","page",1,"block","py-2","px-3","text-white","bg-blue-700","rounded","md:bg-transparent","md:text-blue-700","md:p-0","dark:text-white",3,"routerLinkActiveOptions"],["routerLink","/create-product","routerLinkActive","!text-blue-500","aria-current","page",1,"block","py-2","px-3","text-white","bg-blue-700","rounded","md:bg-transparent","md:text-blue-700","md:p-0","dark:text-white"],["routerLink","/cart","title",""],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4h1.5L8 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm.75-3H7.5M11 7H6.312M17 4v6m-3-3h6"],[1,"absolute","-right-1","top-6","bg-blue-600","size-5","flex","items-center","justify-center","rounded-full"]],template:function(t,p){t&1&&(n(0,"nav",0)(1,"div",1)(2,"a",2),l(3,"img",3),n(4,"span",4),o(5,"E-Shop"),i()(),n(6,"button",5)(7,"span",6),o(8,"Open main menu"),i(),v(),n(9,"svg",7),l(10,"path",8),i()(),C(),n(11,"div",9)(12,"ul",10),u(13,ce,3,1)(14,ue,6,4)(15,de,6,2)(16,fe,6,1,"li",11),i()()()()),t&2&&(a(13),c(p.isAuthenticated.isLoggedIn()?13:14),a(2),c(p.isAuthenticated.getUserRole()?15:16))},dependencies:[E,ee]})};var he=e=>["/product/",e];function xe(e,r){if(e&1&&(n(0,"li",10)(1,"a",11),l(2,"img",12),n(3,"div",13)(4,"li"),o(5),i(),n(6,"li"),o(7),$(8,"currency"),i()()()()),e&2){let t=r.$implicit;a(),d("routerLink",q(6,he,t._id)),a(),d("src",t.image,N),a(3),w(t.title),a(2),w(J(8,4,t.price))}}function ge(e,r){if(e&1&&(n(0,"ul",4)(1,"h3",9),o(2,"Productos encontrados:"),i(),G(3,xe,9,8,"li",10,O),i()),e&2){let t=h();a(3),U(t.productsList)}}var k=class e{productsState=f(oe);productsList=[];inputValue="";router=f(x);onSearch(r){let t=r.target;this.inputValue=t.value;let p=this.productsState.state.products().filter(g=>{let b=g.title.toLowerCase(),D=this.inputValue.toLowerCase();return D===""?!1:b.includes(D)});this.productsList=p,this.productsState.setFilteredProducts(p)}onSubmit(r){r.preventDefault(),console.log("Submit clicked, input value: ",this.inputValue),this.router.navigate(["/search"],{queryParams:{product:this.inputValue}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-search-bar"]],standalone:!0,features:[s],decls:12,vars:1,consts:[[1,"flex","z-10","items-center","max-w-xl","px-5","mx-auto","absolute","top-1/2","left-0","right-0"],["for","simple-search",1,"sr-only"],[1,"relative","w-full"],["type","text","id","simple-search","placeholder","Search product name...","required","",1,"bg-gray-700","z-10","absolute","backdrop-blur-md","text-slate-200","text-md","rounded-3xl","block","w-full","ps-4","max-sm:p-2","p-4","bg-opacity-80",3,"input"],[1,"flex","flex-col","z-0","gap-2","absolute","top-0","pt-16","pb-5","px-3","w-full","bg-slate-800","rounded-3xl"],["type","submit",1,"p-5","max-sm:p-3","absolute","z-50","right-0","text-md","text-white","bg-blue-700","rounded-r-3xl","border-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],[1,"sr-only"],[1,"text-lg"],[1,"flex","gap-5","bg-opacity-90","bg-slate-900","rounded-xl","p-2"],[1,"flex","gap-5",3,"routerLink"],["alt","",1,"size-20","rounded",3,"src"],[1,"flex","flex-col","justify-between"]],template:function(t,p){t&1&&(n(0,"div")(1,"form",0)(2,"label",1),o(3,"Search"),i(),n(4,"div",2)(5,"input",3),S("input",function(b){return p.onSearch(b)}),i(),u(6,ge,5,0,"ul",4),n(7,"button",5),S("click",function(b){return p.onSubmit(b)}),v(),n(8,"svg",6),l(9,"path",7),i(),C(),n(10,"span",8),o(11,"Search"),i()()()()()),t&2&&(a(6),c(p.productsList.length>0?6:-1))},dependencies:[Q,ie,E],encapsulation:2})};var _=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-hero"]],standalone:!0,features:[s],decls:6,vars:0,consts:[[1,"relative"],["src","https://codeit.us/img/e-commerce/hero-big.png.webp","alt","",1,"w-full","object-cover","max-sm:h-56","h-96"],[1,"absolute","flex","flex-col","items-center","top-1/3","left-0","right-0"],[1,"max-w-2xl","mb-4","max-sm:text-2xl","text-4xl","font-bold","tracking-tight","leading-none","md:text-4xl","xl:text-5xl","dark:text-white"]],template:function(t,p){t&1&&(n(0,"section",0),l(1,"img",1),n(2,"div",2)(3,"h1",3),o(4," Find the product you want "),i()(),l(5,"app-search-bar"),i())},dependencies:[k],encapsulation:2})};var L=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=m({type:e,selectors:[["app-footer"]],standalone:!0,features:[s],decls:26,vars:0,consts:[[1,"bg-white","rounded-lg","shadow-sm","dark:bg-gray-900","relative","bottom-0","w-full"],[1,"w-full","max-w-screen-xl","mx-auto","p-4","md:py-8"],[1,"sm:flex","sm:items-center","sm:justify-between"],["href","https://flowbite.com/",1,"flex","items-center","gap-2","mb-4","sm:mb-0"],["src","https://cdn-icons-png.flaticon.com/512/3225/3225196.png","alt","E-Shop Logo",1,"h-8"],[1,"self-center","text-2xl","font-semibold","whitespace-nowrap","dark:text-white"],[1,"flex","flex-wrap","items-center","mb-6","text-sm","font-medium","text-gray-500","sm:mb-0","dark:text-gray-400"],["href","#",1,"hover:underline","me-4","md:me-6"],["href","#",1,"hover:underline"],[1,"my-6","border-gray-200","sm:mx-auto","dark:border-gray-700","lg:my-8"],[1,"block","text-sm","text-gray-500","sm:text-center","dark:text-gray-400"],["href","https://flowbite.com/",1,"hover:underline"]],template:function(t,p){t&1&&(n(0,"footer",0)(1,"div",1)(2,"div",2)(3,"a",3),l(4,"img",4),n(5,"span",5),o(6,"E-Shop"),i()(),n(7,"ul",6)(8,"li")(9,"a",7),o(10,"About"),i()(),n(11,"li")(12,"a",7),o(13,"Privacy Policy"),i()(),n(14,"li")(15,"a",7),o(16,"Licensing"),i()(),n(17,"li")(18,"a",8),o(19,"Contact"),i()()()(),l(20,"hr",9),n(21,"span",10),o(22,"\xA9 2025 "),n(23,"a",11),o(24,"E-Shop"),i(),o(25,". All Rights Reserved."),i()()())},encapsulation:2})};function be(e,r){e&1&&l(0,"app-hero")}var R=class e{constructor(r){this.router=r;this.router.events.subscribe(()=>{this.isHomePage=this.router.url==="/"})}title="e-commerce";isHomePage=!1;static \u0275fac=function(t){return new(t||e)(z(x))};static \u0275cmp=m({type:e,selectors:[["app-root"]],standalone:!0,features:[s],decls:6,vars:1,consts:[[1,"flex","flex-col","min-h-screen"]],template:function(t,p){t&1&&(n(0,"div",0),l(1,"app-header"),u(2,be,1,0,"app-hero"),n(3,"main"),l(4,"router-outlet")(5,"app-footer"),i()()),t&2&&(a(2),c(p.isHomePage?2:-1))},dependencies:[Y,F,_,L]})};X(R,me).catch(e=>console.error(e));
