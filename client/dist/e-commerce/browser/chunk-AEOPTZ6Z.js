import{a as x}from"./chunk-2A3FELLY.js";import{a as b}from"./chunk-7MCNBZWQ.js";import{Ba as f,Sa as e,Ta as t,W as g,Wa as l,ab as n,eb as y,o as s}from"./chunk-37LSLLTH.js";import{d as h,e as c}from"./chunk-FDERIQAA.js";var m=h(x());var u=class p{constructor(o){this.productsService=o}formData={title:"",price:0,category:"",image:null,description:""};handleOnChange(o,r){let i=r.target.value;o==="price"&&i.length>4&&(i=i.slice(0,3),r.target.value=i),this.formData[o]=i}handleFileChange(o){let r=o.target.files?.[0];r&&(this.formData.image=r)}submitForm(o){return c(this,null,function*(){o.preventDefault();let r=new FormData;r.append("title",this.formData.title),r.append("price",this.formData.price.toString()),r.append("description",this.formData.description),r.append("category",this.formData.category),this.formData.image&&r.append("image",this.formData.image),m.default.fire({title:"Are you sure you want to create this product?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No",cancelButtonText:"Cancel"}).then(i=>c(this,null,function*(){if(i.isConfirmed)try{let d=yield s(this.productsService.createProduct(r));m.default.fire("Product created","","success"),console.log("Product created:",d)}catch(d){console.error("Error creating the product:",d)}else i.isDenied&&m.default.fire("Product not created","","info")}))})}static \u0275fac=function(r){return new(r||p)(f(b))};static \u0275cmp=g({type:p,selectors:[["app-create-product"]],standalone:!0,features:[y],decls:40,vars:0,consts:[[1,"flex","justify-center","items-center","w-full","h-screen"],[1,"relative","p-4","w-full","max-w-2xl","h-full","md:h-auto"],[1,"relative","p-4","bg-white","rounded-lg","shadow","dark:bg-gray-800","sm:p-5"],[1,"flex","justify-between","items-center","pb-4","mb-4","rounded-t","border-b","sm:mb-5","dark:border-gray-600"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],["action","#",3,"submit"],[1,"grid","gap-4","mb-4","sm:grid-cols-2"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","text","name","name","id","name","placeholder","Type product name","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["for","price",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","number","name","price","id","price","pattern","[0-9]*","placeholder","$2999","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["for","category",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","category",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["selected",""],["value","TV"],["value","PC"],["value","GA"],["value","PH"],["for","file_input",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","file_input","name","image","type","file",1,"block","w-full","text-sm","p-2","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400",3,"change"],[1,"sm:col-span-2"],["for","description",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","description","rows","4","placeholder","Write product description here",1,"block","p-2.5","w-full","text-sm","text-gray-900","bg-gray-50","rounded-lg","border","border-gray-300","focus:ring-primary-500","focus:border-primary-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500",3,"input"],["type","submit",1,"text-white","inline-flex","items-center","bg-blue-700","hover:bg-primary-800","focus:ring-4","focus:outline-none","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-primary-600","dark:hover:bg-primary-700","dark:focus:ring-primary-800"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),n(5," Add Product "),t()(),e(6,"form",5),l("submit",function(a){return i.submitForm(a)}),e(7,"div",6)(8,"div")(9,"label",7),n(10,"Title"),t(),e(11,"input",8),l("input",function(a){return i.handleOnChange("title",a)}),t()(),e(12,"div")(13,"label",9),n(14,"Price"),t(),e(15,"input",10),l("input",function(a){return i.handleOnChange("price",a)}),t()(),e(16,"div")(17,"label",11),n(18,"Category"),t(),e(19,"select",12),l("input",function(a){return i.handleOnChange("category",a)}),e(20,"option",13),n(21,"Select category"),t(),e(22,"option",14),n(23,"TV/Monitors"),t(),e(24,"option",15),n(25,"PC"),t(),e(26,"option",16),n(27,"Gaming/Console"),t(),e(28,"option",17),n(29,"Phones"),t()()(),e(30,"div")(31,"label",18),n(32,"Image"),t(),e(33,"input",19),l("change",function(a){return i.handleFileChange(a)}),t()(),e(34,"div",20)(35,"label",21),n(36,"Description"),t(),e(37,"textarea",22),l("input",function(a){return i.handleOnChange("description",a)}),t()()(),e(38,"button",23),n(39," Add new product "),t()()()()())},encapsulation:2})};export{u as default};
